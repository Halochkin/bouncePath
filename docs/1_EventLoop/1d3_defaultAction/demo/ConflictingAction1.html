<details>
  <summary>
    Open summary
    <br>
    <a href="#sunshine">
      Link inside summary
      <input type="checkbox" id="checkbox-inside-link-inside-summary">
    </a>
  </summary>
  Hello Sunshine!!
</details>

<a href="#notOpening">
  <audio controls src="data:audio/mpeg;base64,/+MYxAAEaAIEeUAQAgBgNgP/////KQQ/////Lvrg+lcWYHgtjadzsbTq+yREu495tq9c6v/7vt/of7mna9v6/btUnU17Jun9/+MYxCkT26KW+YGBAj9v6vUh+zab//v/96C3/pu6H+pv//r/ycIIP4pcWWTRBBBAMXgNdbRaABQAAABRWKwgjQVX0ECmrb///+MYxBQSM0sWWYI4A++Z/////////////0rOZ3MP//7H44QEgxgdvRVMXHZseL//540B4JAvMPEgaA4/0nHjxLhRgAoAYAgA/+MYxAYIAAJfGYEQAMAJAIAQMAwX936/q/tWtv/2f/+v//6v/+7qTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV">
    audio not supported.
  </audio>
</a>
<br>
<a href="#notOpening">
  <button onclick="reset();">Reset</button>
</a>
<script>

  function reset(){
    details.open = false;
    input.checked = false;
    location.hash = "";
  }

  function log(e) {
    console.log(e.target.tagName);
    console.log("--------state before default actions:");
    console.log("location.hash: ", location.hash);
    console.log("checkbox.checked: ", input.checked);
    console.log("details.open: ", details.open);
    e.stopPropagation();
    setTimeout(function(){
      console.log("--------state after default actions:");
      console.log("location.hash: ", location.hash);
      console.log("checkbox.checked: ", input.checked);
      console.log("details.open: ", details.open);
      console.log("--------");
    })
  }

  const details = document.querySelector("details");
  const summary = document.querySelector("summary");
  const link = document.querySelector("a");
  const input = document.querySelector("input");
  input.addEventListener("click", log);
  link.addEventListener("click", log);
  summary.addEventListener("click", log);
</script>