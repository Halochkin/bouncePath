<a-element a>
    <div></div>
</a-element>


<script>


  class A extends HTMLElement {
    constructor() {
      super();
      console.log('constructor A');
      console.log("isConnected : ", this.isConnected);
      console.log("parentNode : ", this.parentNode);
      console.log("childNodes : ", this.childNodes);
      console.log("attributes : ", this.attributes);
    }

    connectedCallback() {
      console.log("connectedCallback A");
      console.log("- - - - - - - - - - - - - - - - - ");
    }

    static get observedAttributes() {
      return ["a", "b"]
    }

    attributeChangedCallback(name, oldValue, newValue) {
      console.log("attributeChangedCallback A");
    }
  }


  window.addEventListener("click", e => {
    const element = document.createElement("a-element");
    element.setAttributeNode(document.createAttribute("b"));
    const childElement = document.createElement("div");
    element.appendChild(childElement);
    document.body.appendChild(element);
  });


  // class B extends HTMLElement {
  //   constructor(attr) {
  //     console.log("constructor B");
  //     super();
  //     this.attachShadow({mode: "open"});
  //     if (attr)
  //       this.setAttribute(attr, "");
  //     this.shadowRoot.appendChild(new C("c"));
  //     this.shadowRoot.appendChild(new C("c"));
  //     this.bProp = 42;
  //   }
  //
  //   connectedCallback() {
  //     console.log("connectedCallback B");
  //   }
  //
  //   a_cb() {
  //     alert(1)
  //     debugger;
  //   }
  //
  //   static get observedAttributes() {
  //     return ["b"]
  //   }
  //
  //   attributeChangedCallback(value, oldValue, newValue) {
  //     console.log("attributeChangedCallback B");
  //   }
  // }
  //
  // class C extends HTMLElement {
  //   constructor(attr) {
  //     console.log("constructor C");
  //     super();
  //     this.setAttribute(attr, "");
  //   }
  //
  //
  //   static get observedAttributes() {
  //     return ["c"]
  //   }
  //
  //   attributeChangedCallback(value, oldValue, newValue) {
  //     console.log("attributeChangedCallback C");
  //   }
  //
  //   connectedCallback() {
  //     if (super.a_cb) super.a_cb();
  //
  //     console.log("connectedCallback C");
  //   }
  // }

  customElements.define("a-element", A);
  // customElements.define("b-element", B);
  // customElements.define("c-element", C);

</script>

